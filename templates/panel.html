{% extends 'admin.html' %}

{% block title %} Panel {% endblock title %}

{% block body %}
<div class="container px-48">
  <br>
  <div class="flex flex-col ">
    <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="py-2 inline-block min-w-full sm:px-6 lg:px-8">
        <div class="overflow-y-scroll h-72">
          <table class="min-w-full font-bold">
            <thead class="border-b">
              <tr>
                <th scope="col" class="text-sm font-bold text-gray-900 px-6 py-4 text-left"> Sno </th>
                <th scope="col" class="text-sm font-bold text-gray-900 px-6 py-4 text-left"> Title </th>
                <th scope="col" class="text-sm font-bold text-gray-900 px-6 py-4 text-left"> Delete </th>
                <th scope="col" class="text-sm font-bold text-gray-900 px-6 py-4 text-left"> Edit </th>
              </tr>
            </thead>
            <tbody id="table-body">
              {% if posts|length != 0 %}
              {% for post in posts %}
              <tr class="border-b">
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> {{post.post_id}} </td>
                <td class="text-sm text-gray-900 font-medium px-6 py-4 whitespace-nowrap"> {{post.post_title}} </td>
                <td class="text-sm text-gray-900 font-medium px-6 py-4 whitespace-nowrap">
                  <a href="/admin/deletepost/{{post.post_id}}"
                    class="bg-transparent hover:bg-indigo-500 text-indigo-700 font-semibold hover:text-white py-2 px-4 border border-indigo-500 hover:border-transparent rounded">
                    Delete
                  </a>
                </td>
                <td class="text-sm text-gray-900 font-medium px-6 py-4 whitespace-nowrap">
                  <a href="#"
                    class="edit-btn {{post.post_id}} bg-transparent hover:bg-indigo-500 text-indigo-700 font-semibold hover:text-white py-2 px-4 border border-indigo-500 hover:border-transparent rounded">
                    Edit
                  </a>
                </td>
              </tr>
              {% endfor %}
              {% endif %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <form action="#" method="POST" id="post-form">
    <div class="mb-6">
      <label for="title" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"> Title </label>
      <input type="text" id="title" name="title"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
        required="">
    </div>
    <div class="mb-6">
      <label for="content" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400"> Content </label>
      <textarea id="content" rows="4" name="content"
        class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"></textarea>
    </div>
    <button type="submit"
      class="bg-transparent hover:bg-indigo-500 text-indigo-700 font-semibold hover:text-white py-2 px-4 border border-indigo-500 hover:border-transparent rounded">
      Add Post </button>
  </form>
</div>
{% endblock body %}

{% block js %}
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
  crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='Scripts/posts.js') }}"></script>
{% endblock js %}